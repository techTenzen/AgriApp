<div class="market-container">
  <h1>Hyderabad Market Prices</h1>
  <p class="intro">
    Stay updated with the latest market prices from Bowenpally, Malakpet, and other Hyderabad markets to make informed decisions about when and where to sell your agricultural products.
  </p>
  
  <div class="market-content">
    <div class="market-actions">
      <div class="search-box">
        <input 
          type="text" 
          [(ngModel)]="searchTerm" 
          (input)="searchPrices()" 
          placeholder="Search by crop or market"
          aria-label="Search by crop or market">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </div>
      
      <div class="last-updated">
        <p>Last Updated: {{ marketPrices.length > 0 ? marketPrices[0].date : 'May 10, 2025' }}</p>
      </div>
    </div>
    
    <div class="market-table-container">
      <table class="market-table">
        <thead>
          <tr>
            <th (click)="sortPrices('cropName')">
              Crop
              <svg *ngIf="sortColumn === 'cropName'" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path *ngIf="sortDirection === 'asc'" d="M18 15l-6-6-6 6"/>
                <path *ngIf="sortDirection === 'desc'" d="M6 9l6 6 6-6"/>
              </svg>
            </th>
            <th (click)="sortPrices('price')">
              Price
              <svg *ngIf="sortColumn === 'price'" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path *ngIf="sortDirection === 'asc'" d="M18 15l-6-6-6 6"/>
                <path *ngIf="sortDirection === 'desc'" d="M6 9l6 6 6-6"/>
              </svg>
            </th>
            <th>Unit</th>
            <th (click)="sortPrices('market')">
              Market
              <svg *ngIf="sortColumn === 'market'" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path *ngIf="sortDirection === 'asc'" d="M18 15l-6-6-6 6"/>
                <path *ngIf="sortDirection === 'desc'" d="M6 9l6 6 6-6"/>
              </svg>
            </th>
            <th>Trend</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let price of filteredPrices">
            <td>{{ price.cropName }}</td>
            <td>{{ price.price | currency:'USD':'symbol-narrow':'1.2-2' }}</td>
            <td>{{ price.unit }}</td>
            <td>{{ price.market }}</td>
            <td [style.color]="getTrendColor(price.trend)">
              <span [innerHTML]="getTrendIcon(price.trend)"></span>
              {{ price.trend | titlecase }}
            </td>
          </tr>
        </tbody>
      </table>
      
      <div *ngIf="filteredPrices.length === 0" class="no-results">
        <p>No market prices found matching your search criteria.</p>
      </div>
    </div>
    
    <div class="market-info-cards">
      <div class="info-card price-trend">
        <h3>Hyderabad Market Trends</h3>
        <p>Analyze price trends in Hyderabad markets to determine the best time to sell your produce. Prices are typically higher during festivals like Sankranti and Ugadi.</p>
      </div>
      
      <div class="info-card regional-prices">
        <h3>Telangana Market Variations</h3>
        <p>Prices may vary between Bowenpally, Malakpet, and other Hyderabad markets. Consider transportation costs when deciding where to sell within the city.</p>
      </div>
      
      <div class="info-card quality-impact">
        <h3>Hyderabad Quality Standards</h3>
        <p>Hyderabad markets value locally grown, high-quality produce. Proper grading and packaging according to Telangana agricultural standards can help maximize your returns.</p>
      </div>
    </div>
  </div>
</div>
